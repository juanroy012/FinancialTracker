{% extends "base.html" %}

{% block title %}{{ title or "Home - Financial Tracker" }}{% endblock %}

{% block content %}
<div class="dashboard">
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/api.js"></script>
    <h1>Welcome to Financial Tracker</h1>
    
    <section class="overview">
        <h2>Overview</h2>
        <div class="stats-grid">
            <div class="stat-card">
                <h3>Total Transactions</h3>
                <p class="stat-value">{{ transaction_count or 0 }}</p>
                <a href="/transaction" class="btn-link">View All</a>
            </div>
            
            <div class="stat-card">
                <h3>Categories</h3>
                <p class="stat-value">{{ category_count or 0 }}</p>
                <a href="/category/list" class="btn-link">Manage</a>
            </div>
            
            <div class="stat-card income">
                <h3>Total Income</h3>
                <p class="stat-value">${{ "%.2f"|format(total_income / 100) if total_income else "0.00" }}</p>
            </div>
            
            <div class="stat-card expense">
                <h3>Total Expenses</h3>
                <p class="stat-value">${{ "%.2f"|format(total_expenses / 100) if total_expenses else "0.00" }}</p>
            </div>
            
            <div class="stat-card balance">
                <h3>Balance</h3>
                <p class="stat-value">${{ "%.2f"|format((total_income - total_expenses) / 100) if (total_income and total_expenses) else "0.00" }}</p>
            </div>
        </div>
    </section>
    
    <section class="quick-actions">
        <h2>Quick Actions</h2>
        <div class="actions-grid">
            <a href="/transaction/new" class="action-card">
                <span class="icon">‚ûï</span>
                <span>Add Transaction</span>
            </a>
            <a href="/category/add" class="action-card">
                <span class="icon">üìÅ</span>
                <span>Add Category</span>
            </a>
            <a href="/transaction" class="action-card">
                <span class="icon">üìä</span>
                <span>View Transactions</span>
            </a>
            <a href="/category" class="action-card">
                <span class="icon">üè∑Ô∏è</span>
                <span>View Categories</span>
            </a>
        </div>
    </section>
</div>

<style>
    /* Dashboard specific styles */
    .dashboard {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
    }
    
    .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }
    
    .stat-card {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
    }
    
    .stat-card h3 {
        margin: 0 0 10px 0;
        font-size: 14px;
        color: #6c757d;
        text-transform: uppercase;
    }
    
    .stat-value {
        font-size: 32px;
        font-weight: bold;
        margin: 10px 0;
        color: #212529;
    }
    
    .stat-card.income .stat-value {
        color: #28a745;
    }
    
    .stat-card.expense .stat-value {
        color: #dc3545;
    }
    
    .stat-card.balance .stat-value {
        color: #007bff;
    }
    
    .btn-link {
        display: inline-block;
        margin-top: 10px;
        padding: 5px 15px;
        background: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 4px;
        font-size: 12px;
    }
    
    .btn-link:hover {
        background: #0056b3;
    }
    
    .actions-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        gap: 15px;
        margin: 20px 0;
    }
    
    .action-card {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 30px 20px;
        background: white;
        border: 2px solid #007bff;
        border-radius: 8px;
        text-decoration: none;
        color: #007bff;
        transition: all 0.3s;
    }
    
    .action-card:hover {
        background: #007bff;
        color: white;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    
    .action-card .icon {
        font-size: 32px;
        margin-bottom: 10px;
    }
    
    .overview, .quick-actions {
        margin: 40px 0;
    }
    
    .overview h2, .quick-actions h2 {
        color: #212529;
        border-bottom: 2px solid #007bff;
        padding-bottom: 10px;
        margin-bottom: 20px;
    }
</style>
{% endblock %}
